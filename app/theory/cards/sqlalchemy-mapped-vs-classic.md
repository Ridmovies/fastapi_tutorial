# SQLAlchemy: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å vs Mapped —Å—Ç–∏–ª—å (2.0)

–í SQLAlchemy –µ—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–∏—Å—ã–≤–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏ –≤ –º–æ–¥–µ–ª—è—Ö. –†–∞–∑–±–µ—Ä—ë–º –∏—Ö –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∞—Ç—Ä–∏–±—É—Ç–∞ `username`.

---

## 1. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å

from sqlalchemy import Column, String, Integer
from sqlalchemy.orm import declarative_base

Base = declarative_base()

class User(Base):
    __tablename__ = "users"

    id = Column(Integer, primary_key=True)
    username = Column(String, unique=True, index=True)

–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- `username` ‚Äî –æ–±—ä–µ–∫—Ç `Column`.
- –¢–∏–ø `String` —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `Column`, IDE –Ω–µ –≤–∏–¥–∏—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
- –†–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏—è—Ö SQLAlchemy.
- –ü—Ä–∏–≤—ã—á–Ω—ã–π —Å—Ç–∏–ª—å, —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

---

## 2. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Mapped —Å—Ç–∏–ª—å (SQLAlchemy 2.0+)

from sqlalchemy.orm import Mapped, mapped_column, declarative_base

Base = declarative_base()

class User(Base):
    __tablename__ = "users"

    id: Mapped[int] = mapped_column(primary_key=True)
    username: Mapped[str] = mapped_column(unique=True, index=True)

–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- `Mapped[...]` ‚Äî –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è —Ç–∏–ø–∞ Python –¥–ª—è IDE –∏ –ª–∏–Ω—Ç–µ—Ä–æ–≤.
- `mapped_column(...)` –≤–º–µ—Å—Ç–æ `Column(...)`.
- IDE –≤–∏–¥–∏—Ç —Ç–∏–ø `str`, –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –ª—É—á—à–µ.
- –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ SQLAlchemy 2.0+.

---

## 3. –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

| –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å           | Mapped —Å—Ç–∏–ª—å (2.0+)                  |
|-------------------------------|--------------------------------------|
| `username = Column(String)`    | `username: Mapped[str] = mapped_column()` |
| –ê—Ç—Ä–∏–±—É—Ç ‚Äî –æ–±—ä–µ–∫—Ç `Column`      | –ê—Ç—Ä–∏–±—É—Ç —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π Python —Ç–∏–ø–∞      |
| –¢–∏–ø –≤ –∫–æ–¥–µ –Ω–µ —Å—Ç—Ä–æ–≥–∏–π          | –¢–∏–ø —Å—Ç—Ä–æ–≥–æ —É–∫–∞–∑–∞–Ω, IDE –ø–æ–Ω–∏–º–∞–µ—Ç       |
| –°—Ç–∞—Ä—ã–π —Å—Ç–∏–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ    | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤      |
| –ú–µ–Ω—å—à–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ IDE           | –õ—É—á—à–∞—è –∞–≤—Ç–æ–ø–æ–¥—Å–∫–∞–∑–∫–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤|

---

üí° –ó–∞–ø–æ–º–Ω–∏—Ç—å –ª–µ–≥–∫–æ:  
`Mapped` = –∫–æ–ª–æ–Ω–∫–∞ **—Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏–µ–π —Ç–∏–ø–∞**, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –æ–±—ä–µ–∫—Ç Column.

